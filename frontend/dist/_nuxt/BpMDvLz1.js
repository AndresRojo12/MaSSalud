import{O as I,r as u,i as o,t as O,v as E,z as t,A as s,x as r,B as m,M as i,P as N,l as R}from"./DtLBaeiB.js";import{S as h}from"./ewufKi8d.js";import{u as S}from"./CxEGeOpl.js";const U=""+new URL("salud.BO2azFwW.png",import.meta.url).href,A=U,P={style:{display:"flex","margin-top":"5%"}},j=r("source",{srcset:A},null,-1),z=r("div",{class:"text-subtitle-1 text-medium-emphasis",style:{"text-align":"center","margin-top":"5%"}}," Inicio de sesión ",-1),L={class:"text-subtitle-1 text-medium-emphasis d-flex align-center justify-space-between"},G={__name:"UsuarioLogin",setup(T){const f=R(),l=I(),c=u(""),d=u(""),a=u(!1),x=S(),_=async()=>{try{const n=await fetch(`${f.public.API_BASE_URL}auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.value,password:d.value})}),e=await n.json();n.ok?(x.login(e.token,e.user),l.push("/paciente/inicio")):h.fire({icon:"error",title:"Error",text:e.message})}catch(n){console.error("Error logging in",n),h.fire({icon:"error",title:"Error",text:"Hubo un problema al iniciar sesión. Inténtalo de nuevo."})}},y=()=>{a.value=!a.value},b=()=>{l.push("/login/recuperar_contrasena")},v=()=>{l.push("/registro/crear")};return(n,e)=>{const w=o("v-img"),g=o("v-text-field"),C=o("v-btn"),k=o("v-icon"),V=o("v-card-text"),B=o("v-card");return O(),E("div",P,[t(w,{src:"../../util/salud.png",style:{"max-width":"65%"}},{sources:s(()=>[j]),_:1}),t(B,{style:{width:"50%",height:"80vh"},class:"mx-auto pa-12 pb-11",elevation:"4","max-width":"400",rounded:"lg"},{default:s(()=>[z,t(g,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=p=>c.value=p),density:"compact",style:{"margin-top":"20%"},placeholder:"Correo electronico","prepend-inner-icon":"mdi-email-outline",variant:"outlined"},null,8,["modelValue"]),r("div",L,[m(" Contraseña "),r("a",{class:"text-caption text-decoration-none text-blue",href:"#",rel:"noopener noreferrer",target:"_blank",onClick:i(b,["prevent"])}," ¿Olvidó su contraseña?")]),t(g,{modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=p=>d.value=p),"append-inner-icon":a.value?"mdi-eye-off":"mdi-eye",type:a.value?"text":"password",density:"compact",placeholder:"Contraseña","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","onClick:appendInner":y,onKeyup:N(_,["enter"])},null,8,["modelValue","append-inner-icon","type"]),t(C,{class:"mb-8",color:"blue",size:"large",variant:"tonal",block:"",onClick:i(_,["prevent"])},{default:s(()=>[m(" Iniciar ")]),_:1}),t(V,{class:"text-center"},{default:s(()=>[r("a",{class:"text-blue text-decoration-none",onClick:i(v,["prevent"]),href:"#",rel:"noopener noreferrer",target:"_blank"},[m(" Registrarse "),t(k,{icon:"mdi-chevron-right",onClick:i(v,["prevent"])})])]),_:1})]),_:1})])}}};export{G as _};
